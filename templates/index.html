<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTPC Chatbot</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <button id="toggle-widget" class="toggle-button"><i class='fas fa-comment'></i></button>

  <div class="widget">
    <div class="chat-container">
<!-- User Section -->
<section id="user-section" class="section">
    <video autoplay muted loop id="bg-video">
        <source src="https://videos.pexels.com/video-files/3129595/3129595-sd_640_360_30fps.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>
    <div class="field">
        <div class="user-head">
            <h2>üëã Welcome ! </h2>
            <p> To UTPC chatbot <i class="fas fa-robot" style="background: white; color: black; padding:6px; font-size:30px; border-radius:50%;"></i></p>
        </div>
        <div class="Home">
            <div class="left-side">
                <div style="margin-left:20px;">
                    <img src="https://utpc.or.tz/public/assets/images/utpc/small.png" alt="User" width="160px" style="margin:auto;" height="155px">
                </div>
            </div>

            <div class="rg-side">
                <div class="right-side"><h2>From Good <br> to Greate</h2></div>
                <div><span class='sh' style='align-items:center;'> ‚≠ê‚≠ê‚≠ê</span><span style="font-weight:bold;color:#ddd">______________</span></div>
            </div>
        </div>
    </div>
    <div class="midd">
        <h3><span class='sh'> ‚≠ê‚≠ê‚≠ê</span> üí´QUICK VIEW  <span class='sh'>‚≠ê‚≠ê‚≠ê</span> </h3>
        <p>üí´This is a simple chatbot designed to assist you with various queries.</p>
        <p>ü§ñFeel free to ask any question. Type your message and press Enter to send.</p>
        <p>ü§ñUTPC-AI is an AI model developed by the team of AI specialists in the field of Artificial Intelligence and Machine Learning.</p>
        <p class='last'>ü§ñYou can also visit our website at <a href="https://utpc.or.tz/" style="font-weight:600;color: blue;">Click Me</a> to learn more about UTPC.</p>
    </div>
</section>

<style>
    /* Video Background */
#user-section {
    position: relative;
    z-index: 1;
    overflow-y: hidden;
    overflow-x: hidden;
    box-shadow: 0 0 20px black;
}

#bg-video {
    borderS: 1px solid #ddd;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    min-width: 100%;
    min-height: 100%;
    width: auto;
    height: auto;
    z-index: -1;
    object-fit: cover;
    opacity: 1; /* Adjust opacity if needed */
}

/* User Head */
.user-head {
    display: flex;
    justify-content: center;
    align-items: center
    can you look for me latest news for me if P diddy is arrested;
    background-color: #1900ffb4;
    color: #fff;
    font-size: 15px;
    margin: 1px 1px 0px 0px;
    border-radius: 15px 15px 0 0;
    box-shadow:0  0 4px grey;
    border-top: 5px solid #ddd;
}

/* Home Section */
.Home {
    display: flex;
}

#user-section .left-side {
    flex: 1;
    background-color: #0004ff41;
    margin: 1px 1px 0px 3px; 
    border-radius: 0 0px 15px 15px;
    height: 160px;
    justify-content: center;
    align-item:center;
    border-bottom: 1px solid #ddd;
}
.rg-side{
    flex: 1;
}
#user-section .right-side {
    display: flex;
    font-size: 18px;
    color: #ddd;
    align-items: center;
    justify-content: center;
    text-align: center;
    border-top: 1px solid #ddd;
    border-right: 1px solid #ddd;
    background-color: #000000b7;
    margin: 6px 5px 2px 3px; 
    border-radius: 15px;
    height: 130px;
}

@media (max-width: 500px){
    #user-section .right-side {
        width: 85%;
    }

}

/* Middle Section */
.midd {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: auto;
    background-color:#25252593;
    border-radius: 15px;
    padding: 0px;
    font-size: 16px;
    color: white;
    margin: 8px;
    border-top: 1px solid #ddd;
    box-shadow: 0 0 5px grey;
    text-shadow: 0 0 6px black;
    border-bottom: 1px solid #ddd;

}

.sh{
    text-shadow: 0 0 0px grey !important;
}

.midd h3{
    margin: 10px;
}

.midd p{
    padding:2px;
    margin-bottom: 5px !important;
    margin:0px 10px;
    font-size: 14px;

}

.midd .last{
    margin-bottom: 13px !important;
}

</style>

        <!-- Chat Section (default active) -->
        <section id="chat-section" class="section active">
            <div class="chat-header">
                <div style='display:flex;align-items: center; justify-content:center;'>
                    <img src='https://utpc.or.tz/public/assets/images/utpc/small.png' height='60px' width='60px'>
                    <h2>UTPC-AI <br> <span style='font-size:14px;'>Assistant ChatBot</span></h2>
                </div>
            </div>
            <div class="message-container">
                <video autoplay muted loop id="message-bg-video">
                    <source src="https://videos.pexels.com/video-files/3129595/3129595-sd_640_360_30fps.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <!-- Messages will be appended here -->
            </div>
            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Type your message here...">
                <button id="send-button">Send</button>
            </div>
        </section>
        
    

<!-- Menu Section -->
<section id="menu-section" class="section">
    <div id="help-center-widget" class="support-container">
        <!-- Header with Icon and Close Button -->
        <div class="support-header">
            <div class="header-left">
                <i class="fas fa-question-circle help-icon"></i>                <h2>Help Center</h2>
            </div>

        </div>

        <!-- Content Section with Accordion FAQ -->
        <div class="widget-content">
            <h3><i>Frequently Asked Questions</i></h3>
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>How do I use UTPC-AI?</strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>To use UTPC-AI, simply type your question in the chatbox, and the AI will respond accordingly. It can handle various topics, from casual conversations to advanced queries.</p>
                </div>
            </div>
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>What can I expect from UTPC-AI?</strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>UTPC-AI is designed to be one of the most powerful AI models available, capable of handling a wide range of queries. While still under active development, it already excels at providing detailed, accurate responses. Our team is continuously improving its ability to manage more complex requests, including conversation storage, enhanced accuracy, and context retention. In the near future, UTPC-AI is like magic will also include advanced features like image generation, speech recognition, and voice responses, all of which will be available at no cost.</p>
                </div>
            </div>
            
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>How accurate is UTPC-AI?</strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>UTPC-AI is designed to provide highly accurate responses based on its training data. However, like any AI, it may occasionally generate incorrect or outdated information, especially on niche or rapidly changing topics. We recommend verifying critical information independently.

                    </p>
                </div>
            </div>
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>How often is UTPC-AI updated?</strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p> UTPC-AI undergoes regular updates to improve its performance, enhance its understanding of new information, and ensure accuracy. We are constantly working on enhancing its capabilities by integrating the latest advances in AI and language models.

                    </p>
                </div>
            </div>
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>What features does UTPC-AI have?</strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>UTPC-AI can assist with a wide range of tasks, including answering questions, performing calculations, giving recommendations, and more.</p>
                </div>
 
            </div>
            <div class="faq">
                <button class="faq-question" aria-expanded="false">
                    <span><strong>Can I customize UTPC-AI for specific use cases?
                    </strong></span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="faq-answer">
                    <p>Yes, UTPC-AI can be customized for specific industries or use cases. If you need specialized features or integrations, please contact our support team for assistance in tailoring UTPC-AI to your needs.

                    </p>
                </div>
            </div>
        </div>

        <!-- Footer with Smooth Hover Effects -->
        <div class="widget-footer">
            <button class="contact-support">Contact Support <i class="fas fa-headset"></i></button>
        </div>
    </div>

    <!-- Styles -->
    <style>
        .support-container {
            background-color: #fff;
            border: 1px solid #ddd;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            font-family: 'Roboto', sans-serif;
            animation: fadeInUp 0.5s forwards;
            overflow-y: auto;

        }


        .help-icon {
            font-size: 24px;
            margin-right: 10px;
            color: white;
        }
        
        .support-header {
            padding: 0 15px 0 15px;
            background-color: #007bff;
            color: white;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 367px;
            align-items: center;
            justify-content: center;
        }

        @media (max-width:500px){
            .support-header {
                width: 319px;
            }

        }

        .header-left {
            display: flex;
            align-items: center;
        }

        .help-icon {
            width: 24px;
            margin-right: 10px;
        }


        .widget-content {
            margin-top: 50px;
            padding: 20px;
            overflow-y: auto;

        }

        .widget-content h3 {
            font-size: 14px;
            margin-bottom: 15px;
            color:red;
        }

        .faq {
            margin-bottom: 15px;
        }

        .faq-question {
            background: #f1f1f1;
            border: none;
            width: 100%;
            text-align: left;
            padding: 10px;
            font-size: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .faq-question:hover {
            background-color: #e2e2e2;
        }

        .faq-answer {
            display: none;
            padding: 10px;
            font-size: 14px;
            background: #fafafa;
            border-radius: 5px;
        }

        .widget-footer {
            padding: 15px;
            text-align: center;
        }

        .contact-support {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            transition: background 0.3s ease;
        }

        .contact-support:hover {
            background-color: #0056b3;
        }

        .contact-support i {
            margin-left: 8px;
        }



        ::-webkit-scrollbar{
            width: 5px;
        }
        
        ::-webkit-scrollbar-track{
            background: #aaa6a9;
        }
        
        ::-webkit-scrollbar-thumb{
            background: #3f3f40;
        }
        
        ::-webkit-scrollbar-thumb:hover{
            background: #555;
        }


    </style>

    <!-- JavaScript for FAQ Accordion -->
    <script>
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                const faqAnswer = button.nextElementSibling;

                button.classList.toggle('active');

                if (button.getAttribute('aria-expanded') === 'true') {
                    button.setAttribute('aria-expanded', 'false');
                    faqAnswer.style.display = 'none';
                } else {
                    button.setAttribute('aria-expanded', 'true');
                    faqAnswer.style.display = 'block';
                }
            });
        });


    </script>
</section>

        <style>
            .toggle-button {
                position: fixed;
                bottom: 20px;
                right: 20px;
                padding: 0;
                border: none;
                border-radius: 50px;
                background-color: #007bff;
                color: white;
                cursor: pointer;
                box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
                z-index: 1000; /* Ensure it stays on top */
            }
            .toggle-button{
                font-size: 30px;
                padding: 5px;
                width: 45px;
                height: 45px;

            }
            
            .toggle-button:hover {
                background-color: #0056b3;
            }
            
            #message-bg-video {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%; /* Ensure it covers the width */
                height: 100%; /* Ensure it covers the height */
                object-fit: cover; /* Cover the entire container */
                z-index: -1; /* Place behind other content */
                opacity: 0.5; /* Adjust opacity if needed */
            }
        </style>


    </div>
            <!-- Footer with Icons -->
            <div class="footer">
                <i id="user-icon" class="fas fa-user"></i>
                <i id="chat-icon" class="fas fa-comments active"></i>
                <i id="menu-icon" class="fas fa-question-circle "></i>
            </div>
  </div>
    <script>
        // Select elements
        const userSection = document.getElementById('user-section');
        const chatSection = document.getElementById('chat-section');
        const menuSection = document.getElementById('menu-section');

        const userIcon = document.getElementById('user-icon');
        const chatIcon = document.getElementById('chat-icon');
        const menuIcon = document.getElementById('menu-icon');

        // Function to toggle sections
        function showSection(section) {
            userSection.classList.remove('active');
            chatSection.classList.remove('active');
            menuSection.classList.remove('active');

            section.classList.add('active');
        }

        // Function to activate the selected icon
        function activateIcon(icon) {
            userIcon.classList.remove('active');
            chatIcon.classList.remove('active');
            menuIcon.classList.remove('active');

            icon.classList.add('active');
        }

        // Add event listeners to icons
        userIcon.addEventListener('click', () => {
            showSection(userSection);
            activateIcon(userIcon);
        });

        chatIcon.addEventListener('click', () => {
            showSection(chatSection);
            activateIcon(chatIcon);
        });

        menuIcon.addEventListener('click', () => {
            showSection(menuSection);
            activateIcon(menuIcon);
        });

        // Chat message handling
        document.getElementById('send-button').addEventListener('click', function () {
            const userInput = document.getElementById('user-input').value;

            // Display the user's message in the chat
            const messageContainer = document.querySelector('#chat-section .message-container');
            const userMessageDiv = document.createElement('div');
            userMessageDiv.className = 'message-wrapper user-message';
            userMessageDiv.innerHTML = `<i class="fas fa-user"></i> <div class="message"><span>${userInput}</span></div>`;
            messageContainer.appendChild(userMessageDiv);

            // Clear the input field
            document.getElementById('user-input').value = '';

            // Send the user's message to the Flask server (dummy fetch)
            fetch('https://utpc-ai-1.onrender.com/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ message: userInput })
            })
            .then(response => response.json())
            .then(data => {
                // Display the AI's response in the chat
                const aiResponseDiv = document.createElement('div');
                aiResponseDiv.className = 'message-wrapper ai-response';
                aiResponseDiv.innerHTML = `<i class="fas fa-robot"></i> <div class="message"><span>${data.response}</span></div>`;
                messageContainer.appendChild(aiResponseDiv);

                // Scroll to the bottom of the message container
                messageContainer.scrollTop = messageContainer.scrollHeight;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });

        // Select the widget and toggle button
const widget = document.querySelector('.widget');
const toggleButton = document.getElementById('toggle-widget');

// Function to toggle the widget visibility
toggleButton.addEventListener('click', () => {
    if (widget.style.display === 'block' || widget.style.display === '') {
        widget.style.display = 'none';
    } else {
        widget.style.display = 'block';
    }
});

// Initially hide the widget
widget.style.display = 'none';

    </script>

    <style>

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh; /* Adjusted to full viewport height */
            display: flex;
            justify-content: center;
            align-items: center;
            background-color:#00000056;
        }
        
        /* Chat Container */
        .chat-container {
            max-width: 400px;
            width: 100%;
            height: 500px; /* Adjusted to full height */
            display: flex;
            flex-direction: column;
            margin: 0;
            padding: 0;
            border-radius: 15px 15px 0 0;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            background-color:#fceff9;

        }
        .widget {
            position: fixed; /* Make the widget fixed so it stays in position */
            bottom: 80px; /* Adjust the bottom margin to be above the toggle button */
            right: 10px; /* Align it to the right, same as the button */
            max-width: 400px;
            width: 100%;
            box-shadow: 0 0 10px black;
            border-radius: 15px;
            border: 1px solid #ddd;
            z-index: 1000; /* Ensure it appears above other elements */
        }

        @media (max-width:500px){
            .widget {
                max-width: 350px;
            }
            #chat-section,user-section,menu-section{
                width:350px !important;
            }

        }
        /* Header Styles */
        .chat-header{
            background-color: #007bff;
            color: #ffffff;
            border-top: 6px solid #ddd;
            padding: 1px;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }
        
        /* Chat Section */
        #chat-section,user-section,menu-section{
            width:auto !important;
        }
        
        .message-container {
            position: relative; /* Enable absolute positioning for children */
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background-color:transparent;
        }
        
        
        .chat-input {
            display: flex;
            padding:4px  20px 5px 20px ;
            background-color: #fcb8eef5 !important;
            border-top: 1px solid white;
            position: sticky;
            bottom: 0px; /* Fix to bottom of the chat container */
            z-index: 10;
            border-radius: 25px 25px 0 0;
            box-shadow: 0 0 2px #ddd;
            margin-left:5px;
            margin-right: 5px;
        }

        .chat-input input:focus{
            border: none;
        }
        
        #user-input{
            border: none;
            background:#ececec8c;

        }
        
        #user-input:focus{
            border: none;
        }

        
        #user-input {
            flex: 1;
            border: none !important;
            border-radius: 8px 0 10px 8px;
            padding: 10px;
            font-size: 16px;
            height: 35px;

        }
        
        #send-button {
            width: 80px;
            border: none;
            background-color: blue ;
            color: #ffffff;
            font-size: 16px;
            cursor: pointer;
            height:48px;
            margin-left: 2px;
            border-radius:   0 25px  0  25px       ;

        }
        
        #send-button:hover {
            background-color: #000;
        }
        
        /* Message Wrapper */
        .message-wrapper {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .message-wrapper i {
            background: blue;
            border-radius: 50%;
            padding: 8px;
            margin-right: 6px;
            color: #fff;
            width: 27px;
            height: 27px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .message {
            padding: 10px;
            border-radius: 10px;
            font-size: 16px;
            box-shadow: 0 0 2px grey;
            flex: 1;
        }
        
        .user-message .message {
            background-color: #ffff993c;
        }
        
        .ai-response .message {
            background-color: #ececec5c;
            box-shadow: 0 0 5px #ececec;
        }
        
        /* Footer with Icons */
        .footer {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background-color: #f1f1f1;
            border-top: 1px solid #e0e0e0;
            position: sticky;
            bottom: 0;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }
        
        .footer i {
            font-size: 24px;
            color: grey;
            cursor: pointer;
        }
        
        .footer i.active {
            color: #007bff;
        }
        
        /* Section Visibility */
        .section {
            display: none;
            height: 100%; /* Ensure sections take full height */
        }
        
        .section.active {
            display: flex;
            flex-direction: column;
            flex: 1;
        }
        
    </style>
</body>
</html>
